(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{21:function(e,t,n){e.exports=n(32)},27:function(e,t,n){},32:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(16),s=n.n(c),i=n(34),o=n(35),l=n(20),p=(n(27),n(14)),u=function(){return r.a.createElement("div",{className:"page"},r.a.createElement("div",{className:"typeSelector"},r.a.createElement("p",null,"To begin, please select a service type."),r.a.createElement(p.a,{to:"/Script-Viewer/list/41396"},"Morning Experience"),r.a.createElement(p.a,{to:"/Script-Viewer/list/180063"},"Special Event")))},m=n(2),d=n.n(m),f=n(6),h=n(7),v=n(9),g=n(8),b=n(10),y="734b461f55783f9cc466e98c7aedf5f37dcb7b6c1842af90c174d743263f6eae",w="d1f52e1b59a20326e440d21e8adc9c4e91942f1573cb2839b290f6a3c913d425",E=function(){var e=Object(f.a)(d.a.mark(function e(t){var n,a;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t,{method:"GET",headers:{Authorization:"Basic ".concat(btoa("".concat(y,":").concat(w)))}}).then(function(e){return e.json()});case 2:return n=e.sent,a=n.data,e.abrupt("return",a);case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),S={baseUrl:"https://api.planningcenteronline.com/services/v2",getPlans:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a="".concat(S.baseUrl,"/service_types/").concat(e,"/plans?per_page=").concat(t,"&").concat(n);return E(a)},getFuturePlans:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;return S.getPlans(e,t,"filter=future")},getVersion:function(){var e=Object(f.a)(d.a.mark(function e(t,n){var a,r,c;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a="".concat(S.baseUrl,"/service_types/").concat(t,"/plans/").concat(n,"/notes"),e.next=3,E(a);case 3:return r=e.sent,c=r.filter(function(e){return"Information"===e.attributes.category_name}),e.abrupt("return",c[0].attributes.content||"NONE");case 6:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),getPlan:function(){var e=Object(f.a)(d.a.mark(function e(t,n){var a,r,c;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a={serviceType:t,planId:n},r="".concat(S.baseUrl,"/service_types/").concat(a.serviceType,"/plans/").concat(a.planId),e.next=4,E(r);case 4:return c=e.sent,a.planTitle=c.attributes.title,a.planDates=c.attributes.dates,e.next=9,S.getVersion(a.serviceType,a.planId);case 9:return a.planVersion=e.sent,e.abrupt("return",a);case 11:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),getPlanItems:function(){var e=Object(f.a)(d.a.mark(function e(t){var n,a,r;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(S.baseUrl,"/service_types/").concat(t.serviceType,"/plans/").concat(t.planId,"/items?per_page=100"),e.next=3,E(n);case 3:return a=e.sent,r=a.map(function(e){return{description:e.attributes.description,details:e.attributes.html_details,id:e.id,key:e.attributes.key_name,length:e.attributes.length,notes:{},position:e.attributes.service_position,title:e.attributes.title,type:e.attributes.item_type}}),e.abrupt("return",r);case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),getItemNotes:function(){var e=Object(f.a)(d.a.mark(function e(t,n){var a,r;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a="".concat(S.baseUrl,"/service_types/").concat(t.serviceType,"/plans/").concat(t.planId,"/items/").concat(n.id,"/item_notes"),r={},e.next=4,E(a);case 4:return e.sent.map(function(e){return r[e.attributes.category_name]=e.attributes.content,null}),e.abrupt("return",r);case 7:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),calculateTimes:function(e){var t=0;return e.reverse().map(function(e){return"header"===e.type&&(t=0),t+=e.length,e.clock=e.length>0?t:"",e}).reverse()}},T=function(e){function t(){var e,n;Object(h.a)(this,t);for(var a=arguments.length,c=new Array(a),s=0;s<a;s++)c[s]=arguments[s];return(n=Object(v.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(c)))).state={plans:r.a.createElement("p",{style:{marginTop:0}},"loading...")},n.componentWillMount=Object(f.a)(d.a.mark(function e(){var t,a;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.getFuturePlans(n.props.match.params.serviceType,6);case 2:t=e.sent,a=t.map(function(e){return r.a.createElement(p.a,{key:e.id,value:e.id,to:"/Script-Viewer/plan/".concat(n.props.match.params.serviceType,"/").concat(e.id)},e.attributes.dates)}),n.setState({plans:a});case 5:case"end":return e.stop()}},e)})),n.render=function(){return r.a.createElement("div",{className:"page"},r.a.createElement("div",{className:"planSelector"},r.a.createElement("p",null,"Please select a plan."),n.state.plans))},n}return Object(b.a)(t,e),t}(a.Component),k=n(19),O=n(33),I=function(e){return r.a.createElement("tr",null,r.a.createElement("td",{className:"header",colSpan:"2"}),r.a.createElement("td",{className:"header"},e.item.title),r.a.createElement("td",{className:"header",colSpan:"3"}))},j=n(17),N=function(e){return new Date(1e3*e).toISOString().substr(14,5)},x=function(e){function t(){var e,n;Object(h.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(v.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(r)))).state={notes:{}},n}return Object(b.a)(t,e),Object(j.a)(t,[{key:"componentWillMount",value:function(){var e=Object(f.a)(d.a.mark(function e(){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=this,e.next=3,S.getItemNotes(this.props.plan,this.props.item);case 3:e.t1=e.sent,e.t2={notes:e.t1},e.t0.setState.call(e.t0,e.t2);case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state.notes.Vocals||"";return null!==this.props.item.details&&(t+="<hr /> ".concat(this.props.item.details)),r.a.createElement("tr",null,r.a.createElement("td",null,this.props.item.clock>0?N(this.props.item.clock):""),r.a.createElement("td",null,this.props.item.length>0?N(this.props.item.length):"--:--"),r.a.createElement("td",{style:{textAlign:"left"}},r.a.createElement("b",null,this.props.item.title),r.a.createElement("br",null),r.a.createElement("span",{dangerouslySetInnerHTML:{__html:t}})),this.props.plan.planTemplate.map(function(t){var n=t.notes.map(function(t){return"Source"===t&&e.state.notes.Source?"<span class=source>".concat(e.state.notes.Source,"</span>"):e.state.notes[t]}).reduce(function(e,t){return"".concat(e?"".concat(e,"<br />"):"").concat(t||"")});return r.a.createElement("td",{className:"note",key:t.title,dangerouslySetInnerHTML:{__html:n}})}))}}]),t}(a.Component),_={default:[{title:"Side Screens",notes:["Sides"]},{title:"Center Screen",notes:["Center"]},{title:"Other",notes:["Other","Source"]}],audio:[{title:"Side Screens",notes:["Sides"]},{title:"Audio",notes:["Audio","Source"]}],video:[{title:"Side Screens",notes:["Sides"]},{title:"Center Screen",notes:["Center"]},{title:"Video",notes:["Video","Source"]}],lighting:[{title:"Side Screens",notes:["Sides"]},{title:"Lighting",notes:["Lighting"]}],stage:[{title:"Stage",notes:["Stage"]}]},V=function(e){function t(){var e,n;Object(h.a)(this,t);for(var a=arguments.length,c=new Array(a),s=0;s<a;s++)c[s]=arguments[s];return(n=Object(v.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(c)))).state={},n.componentWillMount=Object(f.a)(d.a.mark(function e(){var t,a;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.getPlan(n.props.match.params.serviceType,n.props.match.params.planId);case 2:return t=e.sent,e.t0=S,e.next=6,S.getPlanItems(t);case 6:e.t1=e.sent,a=e.t0.calculateTimes.call(e.t0,e.t1),n.setState(Object(k.a)({planTemplate:_[n.props.match.params.type]||_.default},t,{planItems:a}));case 9:case"end":return e.stop()}},e)})),n.componentWillReceiveProps=function(e){n.setState({planTemplate:_[e.match.params.type]||_.default})},n.render=function(){if(null==n.state.planId)return r.a.createElement("p",null,"loading...");var e="NONE"===n.state.planVersion?"** PLAN IS UNFINALIZED **":"** INFORMATION ".concat(n.state.planVersion," **"),t=(null!==n.state.planTitle?"".concat(n.state.planTitle," - "):"")+n.state.planDates,a=n.state.planItems.map(function(e){if("header"===e.type)return r.a.createElement(I,{item:e,key:e.id});var t={planId:n.state.planId,planTemplate:n.state.planTemplate,serviceType:n.state.serviceType};return r.a.createElement(x,{item:e,key:e.id,plan:t})}),c=Object.keys(_).map(function(e){return r.a.createElement(O.a,{activeClassName:"active",exact:!0,key:e,style:{width:"calc(".concat(100/Object.keys(_).length,"% - 10px)")},to:"/Script-Viewer/plan/".concat(n.props.match.params.serviceType,"/").concat(n.props.match.params.planId).concat("default"===e?"":"/".concat(e))},e[0].toUpperCase()+e.substr(1))});return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"page"},r.a.createElement("div",{className:"templateSelector"},r.a.createElement("p",null,"Select the plan template you would like to view."),c)),r.a.createElement("div",{className:"page"},r.a.createElement("header",null,r.a.createElement("small",null,e),r.a.createElement("br",null),r.a.createElement("b",null,"PRODUCTION SCRIPT: ",t)),r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{width:"5%"},"Clock"),r.a.createElement("th",{width:"5%"},"Time"),r.a.createElement("th",{width:"45%",style:{textAlign:"left"}},"Element"),n.state.planTemplate.map(function(e){return r.a.createElement("th",{key:e.title,width:"".concat(45/n.state.planTemplate.length,"%")},e.title)}))),r.a.createElement("tbody",null,a))))},n}return Object(b.a)(t,e),t}(a.Component),C=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function P(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}s.a.render(r.a.createElement(i.a,null,r.a.createElement(o.a,null,r.a.createElement(l.a,{path:"/Script-Viewer/plan/:serviceType/:planId/:type?",component:V}),r.a.createElement(l.a,{path:"/Script-Viewer/list/:serviceType",component:T}),r.a.createElement(l.a,{path:"/Script-Viewer/",component:u}))),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("/Script-Viewer",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("/Script-Viewer","/service-worker.js");C?(function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):P(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):P(e)})}}()}},[[21,1,2]]]);
//# sourceMappingURL=main.83d3a278.chunk.js.map